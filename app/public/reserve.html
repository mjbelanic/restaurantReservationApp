<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="UTF-8">
    <title>Best Restaurant</title>
    <!-- Latest compiled and minified CSS & JS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    </head>
    <body>
        <div class="container">
            <div class="jumbotron">
            <h1 class= "text-center"><span class="glyphicon glyphicon-fire"></span>Best Restaurant</h1>
            <h3 class= "text-center">Make your Reservation </h3>
            <hr>
            <div class="text-center">
                <a href="/table">
                    <button type="button" class="btn btn-primary btn-lg"><span class="glyphicon glyphicon-list-alt"></span> View Tables </button>
                </a>
                <a href="/">
                    <button type="button" class="btn btn-success btn-lg"><span class="glyphicon glyphicon-home"></span> </button>
                </a>
            </div>
            </div>
            <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title"><strong>Table Reservation</strong></h3>
                </div>
                <div class="panel-body">
                        <div class="form-group row">
                                <label for="Name" class="col-sm-2 col-form-label">Name</label>
                                <div class="col-sm-12">
                                <input type="name" class="form-control" id="Name" placeholder="Name">
                                </div>
                        </div>
                        <div class="form-group row">
                                <label for="Phone" class="col-sm-2 col-form-label">Phone Number</label>
                                <div class="col-sm-12">
                                <input type="phone" class="form-control" id="Phone" placeholder="Phone">
                                </div>
                        </div>
                        <div class="form-group row">
                                <label for="Email" class="col-sm-2 col-form-label">Email</label>
                                <div class="col-sm-12">
                                <input type="email" class="form-control" id="Email" placeholder="Email">
                                </div>
                        </div>
                        <div class="form-group row">
                                <label for="id" class="col-sm-2 col-form-label">Unique ID</label>
                                <div class="col-sm-12">
                                <input type="id" class="form-control" id="id" placeholder="id">
                                </div>
                        </div>
            
                    <div class="text-center">
                    <button type="submit" class="btn btn-primary btn-md" id="submit"></span> Submit</button>
                    </div>
                </div>
                </div>
                
            </div>
            </div>
        </div>
        <script type="text/javascript">
        $("#submit").on("click", function(event) {
            event.preventDefault();
          
           var newReservation = {
                reservationName : $("#Name").val().trim(),
                phoneNumber : $("#Phone").val().trim(),
                reservationEmail : $("#Email").val().trim(),
                uniqueId : $("#id").val().trim()
            };
          
           console.log(newReservation);
          
           var currentURL = window.location.origin;

           $.post(currentURL + "/api/table", newReservation,
                  function(data) {
                      if (data) {
                          alert("You have succesfully made a reservation");
                      }else{
                          alert("Our apologies - you have been placed on a waitlist");
                      }
          
                 });
                });
          </script>
    </body>
</html>